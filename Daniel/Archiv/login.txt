Sicherheit & Produktion
Da du restapi.php nicht Ã¤ndern willst, kannst du die Sessionâ€‘Cookieâ€‘Flags in der PHPâ€‘Konfiguration setzen:

session.cookie_secure = 1 (nur Ã¼ber HTTPS senden)
session.cookie_httponly = 1 (nicht Ã¼ber JS lesbar)
session.cookie_samesite = Lax (CSRFâ€‘Risiko reduziert)

Die Flags greifen vor session_start(). In restapi.php steht session_start() ganz oben, daher ist die php.ini/.htaccess der richtige Ort. [bib926-my....epoint.com]
AuÃŸerdem:

Passwort-Hashing mit password_hash() und password_verify().
Rate Limiting fÃ¼r /auth (Login).
TLS/HTTPS erzwingen.

POST /restapi.php/auth â†’ AuthController::writeAuth($data)
GET  /restapi.php/auth â†’ AuthController::getAuth()
GET  /restapi.php/auth/me â†’ AuthController::me()
POST /restapi.php/auth/logout â†’ AuthController::logout()
DELETE /restapi.php/auth/<uuid> â†’ AuthController::deleteAuth($id) (falls nÃ¶tig)
PUT /restapi.php/auth/<uuid> â†’ AuthController::updateAuth($id, $data) (falls nÃ¶tig)
(Die Namenslogik kommt direkt aus restapi.php.) [bib926-my....epoint.com]

ğŸ” Warum gibt es CORS?

StandardmÃ¤ÃŸig blockiert der Browser Cross-Origin-Anfragen (z.â€¯B. von http://frontend.com zu http://api.com), um CSRF und Datenlecks zu verhindern.
Mit CORS kann der Server explizit erlauben: â€Ja, diese fremde Origin darf auf meine API zugreifen.â€œ


âœ… Wie funktioniert CORS?
Wenn dein JS fetch('https://api.com/data') von einer anderen Domain macht:

Browser sendet eine Preflight-Request (OPTIONS), um zu fragen: â€Darf ich?â€œ
Server antwortet mit Headern wie:

Access-Control-Allow-Origin: https://frontend.com
Access-Control-Allow-Methods: GET, POST
Access-Control-Allow-Headers: Content-Type
Access-Control-Allow-Credentials: true (fÃ¼r Cookies/Sessions)


Wenn erlaubt â†’ Browser fÃ¼hrt den eigentlichen Request aus.


âš ï¸ Wichtig fÃ¼r dich:
In deiner restapi.php ist CORS schon vorbereitet:

Sie setzt Access-Control-Allow-Origin dynamisch auf die anfragende Origin.
Sie erlaubt Access-Control-Allow-Credentials: true â†’ nÃ¶tig, damit Cookies (PHP-Session) mitgeschickt werden.
Sie beantwortet OPTIONS-Preflight mit erlaubten Methoden und Headern.
Das heiÃŸt: Dein API ist CORS-fÃ¤hig und kann von einem anderen Host aus genutzt werden.